# ~/.tmux.conf - Tmux Configuration

# Set prefix to <C-a> (if running remotely set prefix to <C-b>)
set-option -g prefix C-a
unbind-key C-b
bind-key C-a send-prefix
if -F "$SSH_CONNECTION" "set -g prefix C-b ; unbind C-a ; bind C-b send-prefix"

set-option -g  default-terminal "screen-256color"
set-option -sa terminal-overrides ",xterm*:Tc,st*:Tc"
set-option -g  history-limit 20000
set-option -sg escape-time 0
set-option -g  mouse on

# Improved Tmux vi mode
set-window-option -g mode-keys vi
set-option -g status-keys emacs
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R
bind-key -T copy-mode-vi 'v' send-keys -X begin-selection
bind-key -T copy-mode-vi 'y' send-keys -X copy-selection-and-cancel
bind-key -T copy-mode-vi Escape send-keys -X cancel

# Tmux splits use same directory
bind-key '%' split-window -hc "#{pane_current_path}"
bind-key '"' split-window -vc "#{pane_current_path}"

bind-key R source-file ~/.tmux.conf \; display "~/.tmux.conf sourced"
bind-key b set-option -g status
# TODO save pane contents to file
# bind-key p capture-pane -JS
