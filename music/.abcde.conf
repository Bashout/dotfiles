# ~/.abcde.conf - Configuration file for abcde
# For help see:     abcde(1)
# For defaults see: /etc/abcde.conf


# CDDB options

# Choose whether you want to use "cddb", "musicbrainz" and/or "cdtext"
CDDBMETHOD=cddb

# CDDB protocol version (6: UTF-8 encoding)
CDDBPROTO=6

# Options for caching CDDB entries locally
CDDBCOPYLOCAL="y"
CDDBLOCALDIR="$HOME/.cddb"
CDDBLOCALRECURSIVE="y"
CDDBUSELOCAL="y"

NOSUBMIT=y    # Don't submit edited CDDB entries
NOCDDBQUERY=n # Query the CDDB server

# The fields to parse during CDDB parsing
SHOWCDDBFIELDS=year,genre

# Specify the style of encoder to use here -
# oggenc, vorbize - for OGGENCODERSYNTAX
# lame, gogo, bladeenc, l3enc, xingmp3enc, mp3enc - for MP3ENCODERSYNTAX
# flac - the only supported for FLACENCODERSYNTAX at the moment
# default is a valid option for oggenc, lame, flac
# binary, the variable to pick encoder command-line options from, and where
# the options are given.
MP3ENCODERSYNTAX=default
OGGENCODERSYNTAX=default
FLACENCODERSYNTAX=default

# CD reader program to use
CDROMREADERSYNTAX=cdparanoia

# Keep the wav files after encoding. Set it to "y" and remove "clean" from
# the list of default actions, since we purge the temp directory as default.
#KEEPWAVS=n

# Track padding: force abcde to pad tracks using 0, so every song uses a two
# digit entry. If set to "y", even a single song encoding outputs a file like
# 01.my_song.ext
PADTRACKS=y

# Paths of programs to use

# Encoders:
LAME=lame
#GOGO=gogo
#BLADEENC=bladeenc
#L3ENC=l3enc
#XINGMP3ENC=xingmp3enc
#MP3ENC=mp3enc
#VORBIZE=vorbize
OGGENC=oggenc
FLAC=flac

# Options to call programs with:

# MP3:
# For the best LAME encoder options have a look at:
# <http://wiki.hydrogenaudio.org/index.php?title=LAME#Recommended_encoder_settings>
# A good option is '-V 0' which gives Variable Bitrate Rate (VBR) recording
# with a target bitrate of ~245 Kbps and a bitrate range of 220...260 Kbps.
LAMEOPTS="-V 0"
#GOGOOPTS=
# Bladeenc still works with abcde in 2015, and the last release of bladeenc
# was in 2001! Settings that will produce a great encode are: '-br 192'
#BLADEENCOPTS=
# L3enc still works with abcde in 2015, pretty amazing when you realise
# that the last release of l3enc was in 1997! Settings that will produce
# a great encode are: '-br 256000 -hq -crc'
#L3ENCOPTS=
#XINGMP3ENCOPTS=
# And mp3enc also still works with abcde in 2015 with the last release
# of mp3enc in 1998! Settings that will produce a great encode, albeit
# a slow one, are: '-v -br 256000 -qual 9 -no-is -bw 16500'
#MP3ENCOPTS=

# Ogg:
#VORBIZEOPTS=
OGGENCOPTS="-q 3"

# FLAC:
FLACOPTS="-sV8" # TODO test that this works as expected
# Options passed to MetaFlac for ReplayGain tags:
#FLACGAINOPTS="--add-replay-gain"

# mp3 tagging:
# There are three ways to tag MP3 files:
#   1. id3v1 (with id3)
#   2. id3v2.3 (with id3v2)
#   3. id3v2.4 (with eyeD3) This is the default
# Use ID3TAGV to select one of the older formats:
#ID3TAGV=id3v2.4
#ID3OPTS=
#ID3V2OPTS=
#EYED3OPTS="--set-encoding=utf16-LE"
EYED3OPTS="--non-std-genres" # FIXME Genre tag not being correctly set

# Actions to take
# Comma-separated list of one or more of the following:
#  cddb,cue,read,normalize,encode,tag,move,replaygain,playlist,getalbumart,embedalbumart,clean,default
#   encode implies read
#   normalize implies read
#   tag implies cddb,read,encode
#   move implies cddb,read,encode,tag
#   replaygain implies cddb,read,encode,tag,move
#   playlist implies cddb
#   embedalbumart implies getalbumart
# An action can be added to the "default" action by specifying it along with
# "default", without having to repeat the default ones:
#  ACTIONS=default,playlist
# The default action list (referenced as "default") is defined in the following
# comment:
#ACTIONS=cddb,read,encode,tag,move,clean
ACTIONS=cddb,read,encode,tag,move,playlist,clean
# TODO: Get and embed album art

# Set location to output audio tracks to
OUTPUTDIR="${HOME}/Music"
WAVOUTPUTDIR="${HOME}/.abcde" # Temporary WAV files

# OUTPUTTYPE can be any of a number of formats, either a single format
# (e.g. "ogg") or a combination of them separated with ","
# (e.g. "flac,mp3"). Currently recognised and supported are:
# "flac", "mp3, "ogg", "wav"
OUTPUTTYPE=ogg

# Output filename format - change this to reflect your inner desire to
# organize things differently than everyone else :)
# You have the following variables at your disposal:
# OUTPUT, GENRE, ALBUMFILE, ARTISTFILE, TRACKFILE, TRACKNUM and YEAR.
# Make sure to single-quote this variable. abcde will automatically create
# the directory portion of this filename.
# NOTICE: OUTPUTTYPE has been deprecated in the OUTPUTFORMAT string.
# Since multiple-output was integrated we always append the file type
# to the files. Remove it from your user defined string if you are getting
# files like ".ogg.ogg".
OUTPUTFORMAT='${ARTISTFILE} - ${ALBUMFILE}/${TRACKNUM} - ${ARTISTFILE} - ${TRACKFILE}'

# Like OUTPUTFORMAT but for Various Artists discs.
VAOUTPUTFORMAT='Various Artists - ${ALBUMFILE}/${TRACKNUM} - ${ARTISTFILE} - ${TRACKFILE}'

# Like OUTPUTFORMAT and VAOUTPUTFORMAT but for the ONEFILE rips.
ONETRACKOUTPUTFORMAT=$OUTPUTFORMAT
VAONETRACKOUTPUTFORMAT=$VAOUTPUTFORMAT

# Define how many encoders to run at once. This makes for huge speedups
# on SMP systems. Defaults to 1. Equivalent to -j.
#MAXPROCS=2

# Enables nogap encoding when using the 'lame' encoder.
#NOGAP=y

# Set the playlist file location format. Uses the same variables and format
# as OUTPUTFORMAT. If the playlist is specified to be in a subdirectory, it
# will be created for you and the playlist will reference files from that
# subdirectory.
PLAYLISTFORMAT='${ARTISTFILE} - ${ALBUMFILE}/${ARTISTFILE} - ${ALBUMFILE}.${OUTPUT}.m3u'

# Like PLAYLIST{FORMAT,DATAPREFIX} but for Various Artists discs:
VAPLAYLISTFORMAT='Various Artists - ${ALBUMFILE}/${ARTISTFILE} - ${ALBUMFILE}.${OUTPUT}.m3u'

# Custom filename munging:
mungefilename ()
{
	echo "$@" |	sed "s/[:\/]/ /g" | \
			sed 's/ [ ]*/ /g' | \
			sed 's/^ *//' | \
			sed 's/ *$//' #| \
			#recode -f iso8859-1..flat
}

# Eject disk once finished
EJECTCD=y

# vim: set ft=sh noet sts=8 ts=8 sw=8 :
