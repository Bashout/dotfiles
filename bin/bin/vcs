#!/bin/sh

# Check Git Branch
BRANCH=$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/[* ]\+\(.*\)/\1/')
VCS="git"
# Check HG Branch
if [ "${BRANCH}" = "" ]; then
    BRANCH=$(hg branch 2> /dev/null | awk '{ print $1 }')
    VCS="hg"
fi

# Return VCS used instead of branch
if [ "$1" = "-v" ]; then
    [ "${BRANCH}" = "" ] && VCS=""
    printf "%s" "$VCS"
    exit 0
elif [ "$1" = "-b" ]; then
    printf "%s" "${BRANCH}"
else
    printf "usage: %s [-bv]\\n" "$0"
fi
