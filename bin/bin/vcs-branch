#!/bin/sh

# TODO create a perl version of this and time each (use fastest)

# Check Git Branch
BRANCH=$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/[* ]\+\(.*\)/\1/')
VCS="git"
# Check HG Branch
if [ "${BRANCH}" = "" ]; then
    BRANCH=$(hg branch 2> /dev/null | awk '{print ""$1""}')
    VCS="hg"
fi

# Return VCS used instead of branch
if [ "$1" = "-v" ]; then
    [ "${BRANCH}" = "" ] && VCS=""
    printf "%s" "$VCS"
    exit 0
fi

printf "%s" "${BRANCH}"
