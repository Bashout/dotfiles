#!/bin/bash
# Update all pachages in a .NET Core project

# TODO replace with a better version (written in Perl)
mapfile -t ARRAY < <(sed -n 's/^\s*<PackageReference Include="\(.*\)" Version="\(.*\)" \/\?>/\1/p' \
    $(find . -name '*.csproj' -type f))
for i in ${ARRAY[*]}; do
    dotnet add package $i
done
